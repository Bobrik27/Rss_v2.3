---
import Layout from '../../layouts/Layout.astro';
import StaticHero from '../../components/StaticHero.astro';
import About from '../../components/sections/About.astro';
import Competencies from '../../components/sections/Competencies.astro';
import Solutions from '../../components/sections/Solutions.astro';
import Approach from '../../components/sections/Approach.astro';
import Team from '../../components/sections/Team.astro';
import CTA from '../../components/sections/CTA.astro';
import Services from '../../components/landing/Services.astro';
import { getLandingData } from '../../data/landing';

export function getStaticPaths() {
  return [
    {params: {lang: 'ru'}},
    {params: {lang: 'en'}},
    {params: {lang: 'de'}},
  ];
}

const { lang } = Astro.params;
const validLang = (lang === 'ru' || lang === 'en' || lang === 'de') ? lang : 'ru';
const data = getLandingData(validLang);
---

<Layout title="Run Swift Studio" lang={validLang}>
    <main class="max-w-[1700px] mx-auto w-full relative px-4">
        <!-- The Hero Section -->
        <StaticHero lang={validLang} />
        
        <!-- Strategy Section (formerly About) -->
        <div class="relative z-10 bg-background">
            <About lang={validLang} />
        </div>

        <!-- Services Section -->
        <div class="relative z-10 bg-background">
            <Services lang={validLang} />
        </div>

        <!-- Competencies & Solutions Sections -->
        <div class="relative z-10 bg-background space-y-32 py-20">
            <Competencies
                data={data.competencies}
                title={data.texts.competenciesTitle}
                sub={data.texts.competenciesSub}
            />
            <Solutions
                data={data.solutions}
                title={data.texts.solutionsTitle}
                sub={data.texts.solutionsSub}
            />
        </div>

        <!-- Approach Section -->
        <div class="relative z-10 bg-background py-20">
            <Approach
                data={data.approach}
                title={data.texts.approachTitle}
                sub={data.texts.approachSub}
            />
        </div>

        <!-- Team Section -->
        <div class="relative z-10 bg-background py-20">
            <Team lang={validLang} />
        </div>

        <!-- CTA Section -->
        <div class="relative z-10 bg-background">
            <CTA data={data.cta} lang={validLang} />
        </div>
    </main>
</Layout>