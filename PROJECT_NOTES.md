# Техническая документация проекта "Run Swift Studio v3"

## Общая информация
- **Название проекта:** Run Swift Studio v3 (RSS_v2.3)
- **Тип проекта:** Портфолио-сайт с блогом и новостями
- **Фреймворк:** Astro v5
- **Языки программирования:** TypeScript, React 19
- **Стили:** Tailwind CSS v4
- **Цель:** Создание высокопроизводительного портфолио-сайта с поддержкой мультиязычности и контентных коллекций

## Структура проекта

### Основные директории
- `src/` - основной код приложения
  - `components/` - компоненты приложения
    - `interactive/` - интерактивные React-компоненты
    - `landing/` - компоненты главной страницы
    - `sections/` - компоненты секций
    - `wb-audit/` - компоненты WB Audit инструмента
  - `content/` - коллекции контента (блог, новости)
  - `data/` - статические данные
  - `i18n/` - словари переводов
  - `layouts/` - макеты страниц
  - `pages/[lang]/` - локализованные маршруты
    - `tools/wb-audit.astro` - страница WB Audit инструмента
  - `styles/` - глобальные стили
  - `config/` - конфигурационные файлы
- `public/` - статические ресурсы (изображения, иконки)
- `source/` - старые версии и вспомогательные файлы (Word-документы, старые версии сайта)

### Старые версии
- `source/old_page/` - старая версия сайта на чистом HTML/CSS/JS
- `source/old_page2/` - предыдущая версия на Astro с React и Tailwind

## Зависимости

### Основные зависимости
- `astro` - фреймворк для создания веб-приложений
- `@astrojs/react` - интеграция React с Astro
- `react`, `react-dom` - библиотека для создания пользовательских интерфейсов
- `tailwindcss` - фреймворк для стилей
- `@tailwindcss/vite` - плагин для интеграции Tailwind с Vite
- `lucide-react` - иконки
- `@types/react`, `@types/react-dom` - типы для React
- `typescript` - язык программирования

## Архитектура компонентов

### Astro-компоненты
- Используются по умолчанию для структуры, макетов и статического контента
- Файлы с расширением `.astro`
- Используются для лейаутов, статических секций

### React-компоненты
- Используются ТОЛЬКО для сложной интерактивности
- Файлы с расширением `.jsx` или `.tsx`
- Примеры: Hero-анимации, калькуляторы, переключатель темы
- Используются с островной архитектурой Astro (`client:*`)

### Islands архитектура
- Используется директива `client:visible` для тяжелых компонентов
- Минимизация работы Main Thread
- Используется `client:only="react"` для компонентов, требующих полной гидратации

## Стили и темизация

### Tailwind CSS v4
- Используется без `tailwind.config.js`
- Все настройки в `src/styles/global.css` через `@theme`
- Используются цвета в формате oklch для темной/светлой темы

### Цветовая схема
- Основная тема: "SaaS Dark/Light" (Deep Slate/Cyan)
- Темная тема по умолчанию (чтобы избежать вспышки белого при загрузке)
- Переключение через атрибут `data-theme="dark/light"`
- Использование CSS-переменных для управления цветами

#### Темные тона:
- `--color-background`: rgb(17, 15, 8)
- `--color-surface`: oklch(0.20 0.05 260)
- `--color-surface-elevated`: oklch(0.25 0.05 260)
- `--color-card`: rgb(25, 22, 13)
- `--color-card-foreground`: oklch(0.92 0.02 95)
- `--color-text`: oklch(0.92 0.02 95)
- `--color-text-muted`: oklch(0.70 0.02 95)
- `--color-primary`: oklch(0.72 0.12 190) (Туркуазовый акцент)
- `--color-primary-hover`: oklch(0.78 0.12 190)
- `--color-secondary`: oklch(0.65 0.18 35) (Оранжевый брендовый)
- `--color-secondary-hover`: oklch(0.70 0.18 35)
- `--color-accent`: oklch(0.85 0.10 150) (Мятный для акцентов)
- `--color-border`: oklch(0.32 0.01 95)
- `--color-success`: oklch(0.75 0.15 145)
- `--color-warning`: oklch(0.80 0.18 75)
- `--color-error`: oklch(0.75 0.20 25)

#### Светлые тона:
- `--color-background`: oklch(0.98 0.01 260) (Почти белый)
- `--color-surface`: oklch(0.95 0.01 260)
- `--color-surface-elevated`: oklch(0.92 0.01 260)
- `--color-card`: oklch(0.99 0.006 95) (Светлая карточка)
- `--color-card-foreground`: oklch(0.26 0.03 95)
- `--color-text`: oklch(0.15 0.05 260) (Темно-серый)
- `--color-text-muted`: oklch(0.40 0.05 260)
- `--color-primary`: oklch(0.55 0.12 190) (Более насыщенный туркуаз)
- `--color-primary-hover`: oklch(0.60 0.12 190)
- `--color-secondary`: oklch(0.55 0.18 35) (Оранжевый)
- `--color-secondary-hover`: oklch(0.60 0.18 35)
- `--color-accent`: oklch(0.65 0.10 150)
- `--color-border`: oklch(0.85 0.02 260)
- `--color-success`: oklch(0.60 0.15 145)
- `--color-warning`: oklch(0.65 0.18 75)
- `--color-error`: oklch(0.65 0.20 25)

### Глобальные стили
- Файл: `src/styles/global.css`
- Определение цветов и темы через `@theme`
- Базовые стили и слои (layers)
- Шрифты: Inter (sans), JetBrains Mono (mono)
- Радиусы: sm(0.25rem), md(0.5rem), lg(1rem), xl(1.5rem)
- Анимации: fade-in, slide-up

## Анимации и производительность

### Производительность
- Минимизация работы Main Thread
- Использование `client:visible` для нижних/тяжелых секций
- Строгая типизация, избегание `any`
- Использование легковесных библиотек вместо тяжелых (Three.js/Matter.js)

## Контент и данные

### Content Collections
- Используются для Markdown-контента (блог, новости)
- Файл конфигурации: `src/content/config.ts`
- Строгая типизация через Zod-схемы
- Поддержка различных полей (заголовок, описание, дата публикации, теги и т.д.)

### Блог
- Схема: title(string), description(string), pubDate(date), image(string, optional), tags(array of strings), author(string, optional), readTime(string, optional)

### Новости
- Схема: title(string), description(string), pubDate(date), image(string, optional), tags(array of strings), source(string, optional), category(string, optional)

### Генерация маршрутов
- Используется `getStaticPaths()` для генерации маршрутов с локализацией
- Поддержка динамических маршрутов `[lang]` и `[slug]`

## SEO и метатеги

### Компонент BaseHead
- Каждая страница должна содержать компонент с метатегами
- Поддержка канонических URL, Open Graph тегов, описания
- Поддержка `hreflang` тегов для мультиязычности

## Локализация

### Поддержка языков
- Поддержка RU/EN/DE через динамические маршруты `[lang]`
- Словари переводов в `src/i18n/`
- Интерфейс: навигация, кнопки, футер, тема
- Контент: герой, о студии, подход, услуги и др.

### Структура переводов
- `src/i18n/ui.ts` - интерфейсные тексты
- `src/i18n/content.ts` - контентные тексты

## Сборка и деплой

### Цель
- Статическая сборка (SSG) для Netlify
- Отсутствие гидрационных несоответствий (server HTML должен совпадать с клиентским рендером)

### Скрипты
- `dev` - запуск в режиме разработки
- `build` - сборка проекта
- `preview` - предпросмотр сборки
- `astro` - CLI команды Astro

## Development Best Practices

### Performance Optimization
- Использование `client:visible` для тяжелых компонентов
- Минимизация JavaScript на Main Thread
- Оптимизация изображений и медиа-ресурсов
- Lazy loading для удаленного контента

### Code Quality
- Строгая типизация с TypeScript
- Использование Zod для валидации контента
- ESLint и Prettier для форматирования кода
- Тестирование компонентов и функций

### Component Organization
- Четкое разделение между Astro и React компонентами
- Использование семантических имен для компонентов
- Поддержание чистой архитектуры с минимальными зависимостями

## Testing Strategy

### Unit Testing
- Jest для тестирования TypeScript/JavaScript функций
- React Testing Library для тестирования React компонентов
- Vitest для быстрого выполнения тестов

### Integration Testing
- Проверка корректной работы контентных коллекций
- Тестирование локализации и переключения языков
- Проверка корректности маршрутизации

### E2E Testing
- Playwright или Cypress для тестирования пользовательских сценариев
- Проверка корректности отображения на разных устройствах
- Тестирование производительности и доступности

## Deployment Pipeline

### CI/CD
- Автоматическая сборка при пуше в main ветку
- Запуск тестов перед деплоем
- Автоматическое развертывание на Netlify
- Проверка производительности и SEO метрик

### Environment Variables
- Использование .env файлов для конфигурации окружения
- Разделение переменных для dev, staging и prod
- Безопасное хранение секретов

## Компоненты

### Структура главной страницы
- Статический герой (StaticHero)
- О студии (About)
- Услуги (Services)
- Компетенции (Competencies)
- Решения (Solutions)
- Подход (Approach)
- Команда (Team)
- Призыв к действию (CTA)

### StaticHero
- Статичный герой с крупным заголовком RUNSWIFT STUDIO
- Подзаголовок с описанием
- Кнопки CTA для связи и навигации
- Декоративные элементы с эффектами свечения

### About
- Заголовок "Beyond AI: Orchestrating the Future"
- Стратегический текст с описанием подхода
- Четыре карточки с описанием:
  - AI Council (Многомодельный консенсус)
  - System Orchestration (Оркестрация систем)
  - Autonomous Agents (Автономные агенты)
  - Vibe-coding (Vibe-кодинг)

### Services
- Заголовок и описание услуг
- Блоки консалтинговых услуг:
  - AI & Web Audit
  - Requirements Development
- Три тарифных плана:
  - Quick Start (MVP / Vibe-coding)
  - Business Architecture (Orchestration & Scale)
  - Enterprise AI (Autonomous Ecosystem)
- Раздел с информацией о безопасности и стеке технологий

### Competencies
- Заголовок и подзаголовок
- Сетка из шести карточек с компетенциями:
  - Надежная архитектура, которая масштабируется
  - Автоматизация сложных бизнес-процессов
  - Стабильная инфраструктура для ваших данных
  - Искусственный интеллект, который работает на вас
  - Telegram-платформы для роста бизнеса
  - Гарантия бесперебойной работы

### Solutions
- Заголовок и подзаголовок
- Сетка из четырех карточек с решениями:
  - Автономные SMM Экосистемы
  - Сложные Telegram Платформы
  - AI Ассистенты и Агенты
  - Аудит и Рефакторинг

### Approach
- Заголовок и подзаголовок
- Сетка из четырех принципов:
  - Глубокий анализ
  - Прототипирование
  - Инженерная реализация
  - Поддержка и развитие
- Изображение визуализации процесса

### Team
- Заголовок и подзаголовок
- Сетка из четырех карточек участников команды:
  - Elena V. (System Analyst)
  - Alex K. (Lead Engineer)
  - Marcus R. (DevOps Architect)
  - Sarah L. (Product Owner)
- Для каждого участника: имя, роль, описание и фото

### CTA (Call to Action)
- Заголовок "Готовы автоматизировать бизнес?"
- Подзаголовок с предложением обсудить задачу
- Две кнопки: "Начать диалог" и "Получить аудит систем"
- Сноска о времени ответа

### ThemeToggle
- Компонент для переключения темы (светлая/темная)
- Использует localStorage для сохранения предпочтений
- Учитывает системные настройки пользователя
- Визуально представлен в виде кнопки с иконкой (луна/солнце)

### Layout
- Общий макет для всех страниц
- Подключение глобальных стилей
- Установка атрибутов темы по умолчанию
- Включает Header и Footer

### Header
- Навигация с якорными ссылками
- Языковой переключатель
- Кнопка связи
- Логотип студии
- Адаптивное меню

### Footer
- Копирайт
- Ссылки на политику, условия, GitHub
- Информация о месте разработки

### LanguagePicker
- Компонент для переключения языка интерфейса
- Представлен в виде списка языковых меток
- Каждая метка является ссылкой на соответствующую локализованную версию сайта

### WBAuditWidget
- Комплексный React-компонент для аудита товаров Wildberries
- Включает в себя 6 модулей анализа:
  - Маркетинговый анализ
  - Автономные агенты
  - Vibe-coding
  - Совет AI
  - Базы данных
  - Нейросети
- Интеграция с n8n и Python Core через webhook-эндпоинты
- Интерактивный интерфейс с терминалом и анимацией процесса
- Поддержка загрузки результатов анализа

## Структура данных (src/data/landing.ts)
- Компетенции: архитектура, процессы, инфраструктура, ИИ, Telegram, гарантия
- Решения: SMM-экосистемы, Telegram-платформы, ИИ-ассистенты, аудит и рефакторинг
- О студии: информация и статистика
- Подход: анализ, прототипирование, реализация, поддержка
- Призыв к действию

## Маршрутизация
- Используется ручная маршрутизация i18n в astro.config.mjs
- Поддержка языков: ru, en, de
- Дефолтный язык: ru

## Middleware
- Простое middleware для i18n
- Установка локалей в контексте
- Возможность автоматического определения языка

## Content Management

### Markdown Frontmatter
- Использование строго типизированных frontmatter полей
- Валидация через Zod схемы
- Поддержка изображений и медиа-ресурсов
- Автоматическая генерация метаданных

### SEO и метатеги
- Автоматическая генерация Open Graph тегов
- Поддержка hreflang для мультиязычных страниц
- Canonical URL для избежания дублирования контента
- Schema.org структурированные данные

## Deployment Considerations

### Performance Metrics
- Цели по Core Web Vitals
- Оптимизация First Contentful Paint (FCP)
- Улучшение Largest Contentful Paint (LCP)
- Минимизация Cumulative Layout Shift (CLS)

### Caching Strategy
- HTTP кэширование статических ресурсов
- CDN для доставки контента
- Версионирование ассетов
- Preloading критических ресурсов

### Monitoring
- Логирование ошибок и исключений
- Отслеживание производительности
- A/B тестирование UX изменений
- Анализ пользовательского поведения

## Интеграции

### API Конфигурация
- Файл: `src/config/api.ts`
- Базовый URL: `https://steerefuepatam.beget.app`
- Эндпоинты:
  - `/webhook/wb/parse` - Парсинг товаров Wildberries (Workflow A)
  - `/webhook/wb/full-audit` - Запуск полного аудита (Workflow B)
  - `/webhook/wb-status` - Статус аудита (Workflow F)

### WB Audit Инструмент
- Страница: `src/pages/[lang]/tools/wb-audit.astro`
- Компонент: `src/components/wb-audit/WBAuditWidget.tsx`
- Навигация: "Кейсы" → `/[lang]/tools/wb-audit`
- Интеграция с n8n workflow через webhook-запросы
- Защита от CORS через cache-busting параметры
- Обработка массивов данных от n8n